@model VietNOCMS.Models.DashboardViewModel

@{
    ViewData["Title"] = "Dashboard";
    // Vẫn giữ logic lấy Role để điều khiển giao diện, hoặc dùng Model.Role cũng được
    var userRole = User.IsInRole("Admin") ? "Admin" : (User.IsInRole("Instructor") ? "Instructor" : "Student");
}

<div class="dashboard-page">
    <div class="dashboard-hero">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <div class="hero-badge-status">
                        <span class="status-dot"></span>
                        <span>Online</span>
                    </div>
                    <h1 class="dashboard-hero-title">
                        Xin chào, <span class="text-gradient">@Model.UserName</span>
                    </h1>
                    <p class="dashboard-hero-description">
                        @if (userRole == "Admin")
                        {
                            <text>Quản lý hệ thống hiệu quả và theo dõi hoạt động real-time của VietN OCMS</text>
                        }
                        else if (userRole == "Instructor")
                        {
                            <text>Sẵn sàng tạo nội dung chất lượng và truyền cảm hứng cho học viên của bạn</text>
                        }
                        else
                        {
                            <text>Tiếp tục hành trình khám phá và phát triển bản thân mỗi ngày</text>
                        }
                    </p>
                </div>
                <div class="col-lg-4 text-end d-none d-lg-block">
                    <div class="hero-decoration">
                        <i class="bi bi-mortarboard-fill"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container dashboard-content">
        <div class="stats-wrapper">
            @if (userRole == "Admin")
            {
                <div class="stat-card-modern stat-primary">
                    <div class="stat-card-body">
                        <div class="stat-icon-wrapper">
                            <i class="bi bi-people"></i>
                        </div>
                        <div class="stat-details">
                            <h3 class="stat-value">@Model.TotalUsers.ToString("N0")</h3>
                            <p class="stat-label">Người dùng</p>
                        </div>
                    </div>
                </div>
                <div class="stat-card-modern stat-success">
                    <div class="stat-card-body">
                        <div class="stat-icon-wrapper">
                            <i class="bi bi-book"></i>
                        </div>
                        <div class="stat-details">
                            <h3 class="stat-value">@Model.TotalCourses.ToString("N0")</h3>
                            <p class="stat-label">Khóa học</p>
                        </div>
                    </div>
                </div>
                <div class="stat-card-modern stat-info">
                    <div class="stat-card-body">
                        <div class="stat-icon-wrapper">
                            <i class="bi bi-journal-check"></i>
                        </div>
                        <div class="stat-details">
                            <h3 class="stat-value">@Model.TotalEnrollments.ToString("N0")</h3>
                            <p class="stat-label">Ghi danh</p>
                        </div>
                    </div>
                </div>
                <div class="stat-card-modern stat-warning">
                    <div class="stat-card-body">
                        <div class="stat-icon-wrapper">
                            <i class="bi bi-hourglass-split"></i>
                        </div>
                        <div class="stat-details">
                            <h3 class="stat-value">@Model.PendingInstructorRequests.ToString("N0")</h3>
                            <p class="stat-label">Chờ duyệt</p>
                            @if (Model.PendingInstructorRequests > 0)
                            {
                                <span class="stat-badge-new">Mới</span>
                            }
                        </div>
                    </div>
                </div>
            }
            else if (userRole == "Instructor")
            {
                <div class="stat-card-modern stat-primary">
                    <div class="stat-card-body">
                        <div class="stat-icon-wrapper">
                            <i class="bi bi-book"></i>
                        </div>
                        <div class="stat-details">
                            <h3 class="stat-value">@Model.MyCoursesCount.ToString("N0")</h3>
                            <p class="stat-label">Khóa học</p>
                        </div>
                    </div>
                </div>
                <div class="stat-card-modern stat-success">
                    <div class="stat-card-body">
                        <div class="stat-icon-wrapper">
                            <i class="bi bi-people"></i>
                        </div>
                        <div class="stat-details">
                            <h3 class="stat-value">@Model.MyStudentsCount.ToString("N0")</h3>
                            <p class="stat-label">Học viên</p>
                        </div>
                    </div>
                </div>
                <div class="stat-card-modern stat-warning">
                    <div class="stat-card-body">
                        <div class="stat-icon-wrapper">
                            <i class="bi bi-star-fill"></i>
                        </div>
                        <div class="stat-details">
                            <div class="stat-value">@Model.AverageRating <small class="text-muted fs-6">/ 5.0</small></div>
                            <div class="stat-subtitle">Từ @Model.TotalRatingCount đánh giá</div>
                        </div>
                    </div>
                </div>
                <div class="stat-card-modern stat-info">
                    <div class="stat-card-body">
                        <div class="stat-icon-wrapper">
                            <i class="bi bi-cash-coin"></i>
                        </div>
                        <div class="stat-details">
                            <h3 class="stat-value">@Model.TotalRevenue.ToString("C0", System.Globalization.CultureInfo.GetCultureInfo("vi-VN"))</h3>
                            <p class="stat-label">Doanh thu</p>
                        </div>
                    </div>
                </div>
            }
            else // Student
            {
                <div class="stat-card-modern stat-primary stat-large-grid">
                    <div class="stat-card-body">
                        <div class="stat-icon-wrapper">
                            <i class="bi bi-book"></i>
                        </div>
                        <div class="stat-details">
                            <h3 class="stat-value">@Model.EnrolledCoursesCount</h3>
                            <p class="stat-label">Đã đăng ký</p>
                        </div>
                    </div>
                </div>
                <div class="stat-card-modern stat-success stat-large-grid">
                    <div class="stat-card-body">
                        <div class="stat-icon-wrapper">
                            <i class="bi bi-clock-history"></i>
                        </div>
                        <div class="stat-details">
                            <h3 class="stat-value">@Model.InProgressCoursesCount</h3>
                            <p class="stat-label">Đang học</p>
                        </div>
                    </div>
                </div>
                <div class="stat-card-modern stat-warning stat-large-grid">
                    <div class="stat-card-body">
                        <div class="stat-icon-wrapper">
                            <i class="bi bi-patch-check"></i>
                        </div>
                        <div class="stat-details">
                            <h3 class="stat-value">@Model.CompletedCoursesCount</h3>
                            <p class="stat-label">Hoàn thành</p>
                        </div>
                    </div>
                </div>
            }
        </div>

        <div class="row g-4 mt-4">
            <div class="col-lg-8">
                <div class="content-card">
                    <div class="content-card-header">
                        <h2>
                            <i class="bi bi-lightning-charge-fill"></i>
                            Thao tác nhanh
                        </h2>
                    </div>
                    <div class="content-card-body">
                        @if (userRole == "Admin")
                        {
                            <div class="action-grid">
                                <a asp-controller="Admin" asp-action="InstructorRequests" class="action-card-item featured">
                                    <div class="action-card-icon bg-gradient-primary">
                                        <i class="bi bi-person-check"></i>
                                    </div>
                                    <div class="action-card-content">
                                        <h5>Duyệt yêu cầu giảng viên</h5>
                                        <p>Xem và phê duyệt đơn đăng ký mới</p>
                                    </div>
                                    @if (Model.PendingInstructorRequests > 0)
                                    {
                                        <div class="action-card-badge">@Model.PendingInstructorRequests</div>
                                    }
                                    <i class="bi bi-chevron-right action-card-arrow"></i>
                                </a>
                            </div>
                        }
                        else if (userRole == "Instructor")
                        {
                            <div class="action-grid">
                                <a asp-controller="Instructor" asp-action="CreateCourse" class="action-card-item featured">
                                    <div class="action-card-icon bg-gradient-primary">
                                        <i class="bi bi-plus-circle"></i>
                                    </div>
                                    <div class="action-card-content">
                                        <h5>Tạo khóa học mới</h5>
                                        <p>Bắt đầu chia sẻ kiến thức ngay</p>
                                    </div>
                                    <i class="bi bi-chevron-right action-card-arrow"></i>
                                </a>
                                <a asp-controller="Instructor" asp-action="MyCourses" class="action-card-item">
                                    <div class="action-card-icon bg-gradient-success">
                                        <i class="bi bi-book"></i>
                                    </div>
                                    <div class="action-card-content">
                                        <h5>Khóa học của tôi</h5>
                                        <p>Quản lý và cập nhật nội dung</p>
                                    </div>
                                    <i class="bi bi-chevron-right action-card-arrow"></i>
                                </a>
                            </div>
                        }
                        else
                        {
                            <div class="action-grid">
                                <a asp-controller="Student" asp-action="ExploreCourse" class="action-card-item featured">
                                    <div class="action-card-icon bg-gradient-primary">
                                        <i class="bi bi-search"></i>
                                    </div>
                                    <div class="action-card-content">
                                        <h5>Khám phá khóa học</h5>
                                        <p>Tìm khóa học phù hợp với bạn</p>
                                    </div>
                                    <i class="bi bi-chevron-right action-card-arrow"></i>
                                </a>
                                <a asp-controller="Student" asp-action="MyCourses" class="action-card-item">
                                    <div class="action-card-icon bg-gradient-success">
                                        <i class="bi bi-book"></i>
                                    </div>
                                    <div class="action-card-content">
                                        <h5>Tiếp tục học</h5>
                                        <p>Quay lại khóa học đang học</p>
                                    </div>
                                    <i class="bi bi-chevron-right action-card-arrow"></i>
                                </a>
                            </div>
                        }
                    </div>
                </div>
            </div>

            <div class="content-card notification-panel">
                <div class="content-card-header">
                    <h3><i class="bi bi-bell-fill"></i> Thông báo</h3>
                    @if (Model.Notifications.Any(n => !n.IsRead))
                    {
                        <span class="notification-count-badge">@Model.Notifications.Count(n => !n.IsRead)</span>
                    }
                </div>
                <div class="content-card-body">
                    <div class="notification-list-modern">
                        @if (Model.Notifications != null && Model.Notifications.Any())
                        {
                            @foreach (var noti in Model.Notifications)
                            {
                                // 1. Xử lý Màu sắc dựa trên Enum Type
                                string bgClass = "noti-default";
                                string iconColor = "";
                                switch (noti.Type)
                                {
                                    case VietNOCMS.Models.NotificationType.Success:
                                        bgClass = "noti-success"; iconColor = "text-success"; break;
                                    case VietNOCMS.Models.NotificationType.Warning:
                                        bgClass = "noti-warning"; iconColor = "text-warning"; break;
                                    case VietNOCMS.Models.NotificationType.Error:
                                        bgClass = "noti-danger"; iconColor = "text-danger"; break;
                                    case VietNOCMS.Models.NotificationType.Info:
                                        bgClass = "noti-info"; iconColor = "text-primary"; break;
                                }

                                // 2. Xử lý Icon dựa trên Category (Nghiệp vụ)
                                string iconClass = "bi-bell-fill";
                                switch (noti.Category)
                                {
                                    case "Payment": iconClass = "bi-cash-coin"; break;         // Tiền
                                    case "Assignment": iconClass = "bi-pencil-square"; break;  // Bài tập
                                    case "Grade": iconClass = "bi-award-fill"; break;          // Điểm số
                                    case "Message": iconClass = "bi-chat-dots-fill"; break;    // Tin nhắn
                                    case "Recruitment": iconClass = "bi-briefcase-fill"; break;// Tuyển dụng
                                    case "Course": iconClass = "bi-book-half"; break;          // Khóa học
                                }

                                <a href="@(string.IsNullOrEmpty(noti.RedirectUrl) ? "#" : noti.RedirectUrl)" class="text-decoration-none">
                                    <div class="notification-item-modern @bgClass @(!noti.IsRead ? "fw-bold border-start border-3 border-primary" : "")">
                                        <div class="noti-icon-modern @iconColor">
                                            <i class="bi @iconClass"></i>
                                        </div>
                                        <div class="noti-content-modern">
                                            <h5 class="mb-1 text-dark">@noti.Title</h5>
                                            <p class="mb-1 text-muted small">@noti.Message</p>
                                            <span class="noti-time">@noti.CreatedAt.ToString("dd/MM/yyyy HH:mm")</span>
                                        </div>
                                    </div>
                                </a>
                            }
                        }
                        else
                        {
                            <div class="text-center py-4 text-muted">Không có thông báo mới.</div>
                        }
                    </div>
                </div>
            </div>
        </div>

        <div class="courses-section mt-5">
            <div class="section-header-modern">
                <h2 class="section-title-modern">
                    @if (userRole == "Student")
                    {
                        <i class="bi bi-book-half"></i>
                        <text>Tiếp tục học</text>
                    }
                    else if (userRole == "Instructor")
                    {
                        <i class="bi bi-graph-up-arrow"></i>
                        <text>Khóa học của tôi</text>
                    }
                    else
                    {
                        <i class="bi bi-fire"></i>
                        <text>Khóa học mới nhất</text>
                    }
                </h2>
                <a a asp-controller="Student" asp-action="MyCourses" class="view-more-link">
                    Xem thêm <i class="bi bi-arrow-right"></i>
                </a>
            </div>

            <div class="courses-grid-modern">
                @if (Model.DisplayCourses != null && Model.DisplayCourses.Any())
                {
                    @foreach (var course in Model.DisplayCourses)
                    {
                        <div class="course-card-modern">
                            <div class="course-thumbnail-modern">
                                @if (!string.IsNullOrEmpty(course.Thumbnail))
                                {
                                    <img src="~/uploads/@course.Thumbnail" alt="@course.CourseName" style="width:100%; height:100%; object-fit:cover;" />
                                }
                                else
                                {
                                    <div class="course-image-gradient" style="background: linear-gradient(135deg, #667eea, #764ba2);"></div>
                                }

                                @if (userRole == "Student")
                                {
                                    <span class="course-status-badge">Đang học</span>
                                }
                            </div>
                            <div class="course-body-modern">
                                <div class="course-meta-tags">
                                    <span class="meta-tag">@course.CategoryName</span>
                                    <span class="meta-tag level">@course.Level</span>
                                </div>
                                <h4 class="course-title-modern">@course.CourseName</h4>
                                <p class="course-description-modern text-truncate">
                                </p>

                                @if (userRole == "Student")
                                {
                                    <div class="course-progress-modern">
                                        <div class="progress-wrapper-modern">
                                            <div class="progress-fill-modern" style="width: @course.Progress%"></div>
                                        </div>
                                        <span class="progress-text-modern">@course.Progress% hoàn thành</span>
                                    </div>
                                }
                                else
                                {
                                    <div class="course-stats-modern">
                                        <div class="stat-item-course">
                                            <i class="bi bi-people"></i>
                                            <span>@course.StudentCount</span>
                                        </div>
                                        <div class="stat-item-course">
                                            <i class="bi bi-star-fill"></i>
                                            <span>@course.Rating</span>
                                        </div>
                                    </div>
                                }

                                <a href="@Url.Action("Details", "Courses", new { id = course.CourseId })" class="course-btn-modern">
                                    @if (userRole == "Student")
                                    {
                                        <text>Vào học ngay</text>
                                    }
                                    else
                                    {
                                        <text>Xem chi tiết</text>
                                    }
                                    <i class="bi bi-arrow-right"></i>
                                </a>
                            </div>
                        </div>
                    }
                }
                else
                {
                    <div class="col-12 text-center py-5">
                        <div class="text-muted">Chưa có khóa học nào để hiển thị.</div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>

@section Styles {
    <style>
        /* Giữ nguyên toàn bộ CSS cũ của bạn ở đây */
        /* ==================== DASHBOARD PAGE ==================== */
        .dashboard-page {
            background: #f8fafc;
            min-height: 100vh;
            padding-top: 0px;
        }

        /* ==================== HERO SECTION ==================== */
        .dashboard-hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 60px 0 80px;
            margin-bottom: -50px;
            position: relative;
            overflow: hidden;
        }

            .dashboard-hero::before {
                content: '';
                position: absolute;
                width: 100%;
                height: 100%;
                background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23ffffff" fill-opacity="0.05" d="M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,138.7C960,139,1056,117,1152,117.3C1248,117,1344,139,1392,149.3L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>');
                background-size: cover;
                background-position: bottom;
            }

        .hero-badge-status {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.2);
            padding: 6px 16px;
            border-radius: 20px;
            color: white;
            font-size: 13px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            margin-bottom: 16px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: #10b981;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @@keyframes pulse {
            0%, 100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        .dashboard-hero-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: white;
            margin-bottom: 16px;
            position: relative;
        }

        .dashboard-hero-description {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            position: relative;
        }

        .hero-decoration {
            font-size: 180px;
            color: rgba(255, 255, 255, 0.1);
            animation: float 3s ease-in-out infinite;
        }

        @@keyframes float {
            0%, 100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        /* ==================== DASHBOARD CONTENT ==================== */
        .dashboard-content {
            position: relative;
            z-index: 10;
        }

        /* ==================== STATS CARDS ==================== */
        .stats-wrapper {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }

        .stat-card-modern {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

            .stat-card-modern::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 4px;
                height: 100%;
                transition: width 0.3s ease;
            }

            .stat-card-modern:hover {
                transform: translateY(-4px);
                box-shadow: 0 12px 28px rgba(0, 0, 0, 0.12);
            }

                .stat-card-modern:hover::before {
                    width: 8px;
                }

        .stat-primary::before {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .stat-success::before {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .stat-warning::before {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }

        .stat-danger::before {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .stat-info::before {
            background: linear-gradient(135deg, #06b6d4, #0891b2);
        }

        .stat-card-body {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .stat-icon-wrapper {
            width: 56px;
            height: 56px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            flex-shrink: 0;
        }

        .stat-primary .stat-icon-wrapper {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .stat-success .stat-icon-wrapper {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .stat-warning .stat-icon-wrapper {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }

        .stat-danger .stat-icon-wrapper {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .stat-info .stat-icon-wrapper {
            background: linear-gradient(135deg, #06b6d4, #0891b2);
        }

        .stat-details {
            flex: 1;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #1e293b;
            margin: 0;
            line-height: 1;
        }

        .stat-label {
            color: #64748b;
            font-size: 14px;
            margin: 6px 0 0;
        }

        .stat-trend {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 8px;
            margin-top: 8px;
        }

            .stat-trend.up {
                background: #d1fae5;
                color: #059669;
            }

        .stat-badge-new {
            position: absolute;
            top: 16px;
            right: 16px;
            background: #fef3c7;
            color: #d97706;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 700;
        }

        /* ==================== CONTENT CARDS ==================== */
        .content-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }

        .content-card-header {
            padding: 28px 32px;
            border-bottom: 1px solid #f1f5f9;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

            .content-card-header h2,
            .content-card-header h3 {
                font-size: 1.25rem;
                font-weight: 700;
                color: #1e293b;
                display: flex;
                align-items: center;
                gap: 10px;
                margin: 0;
            }

            .content-card-header i {
                color: #f59e0b;
            }

        .content-card-body {
            padding: 32px;
        }

        /* ==================== ACTION CARDS ==================== */
        .action-grid {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .action-card-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            background: #f8fafc;
            border-radius: 12px;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
        }

            .action-card-item:hover {
                background: #f1f5f9;
                transform: translateX(4px);
            }

            .action-card-item.featured {
                background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
                border: 2px solid rgba(102, 126, 234, 0.3);
            }

                .action-card-item.featured:hover {
                    background: linear-gradient(135deg, rgba(102, 126, 234, 0.15), rgba(118, 75, 162, 0.15));
                }

        .action-card-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            flex-shrink: 0;
        }

        .bg-gradient-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .bg-gradient-success {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .bg-gradient-info {
            background: linear-gradient(135deg, #06b6d4, #0891b2);
        }

        .bg-gradient-warning {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }

        .bg-gradient-danger {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .action-card-content {
            flex: 1;
        }

            .action-card-content h5 {
                font-size: 15px;
                font-weight: 600;
                color: #1e293b;
                margin: 0 0 4px;
            }

            .action-card-content p {
                font-size: 13px;
                color: #64748b;
                margin: 0;
            }

        .action-card-badge {
            background: #ef4444;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
        }

        .action-card-arrow {
            color: #94a3b8;
            font-size: 18px;
        }

        /* ==================== NOTIFICATIONS ==================== */
        .notification-panel {
            height: fit-content;
        }

        .notification-count-badge {
            background: #ef4444;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 700;
        }

        .notification-list-modern {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 20px;
        }

        .notification-item-modern {
            display: flex;
            gap: 12px;
            padding: 16px;
            border-radius: 12px;
            transition: all 0.3s ease;
        }

            .notification-item-modern:hover {
                transform: translateX(4px);
            }

        .noti-success {
            background: #d1fae520;
            border-left: 3px solid #10b981;
        }

        .noti-warning {
            background: #fef3c720;
            border-left: 3px solid #f59e0b;
        }

        .noti-danger {
            background: #fee2e220;
            border-left: 3px solid #ef4444;
        }

        .noti-info {
            background: #dbeafe20;
            border-left: 3px solid #06b6d4;
        }

        .noti-primary {
            background: #e0e7ff20;
            border-left: 3px solid #6366f1;
        }

        .noti-default {
            background: #f3f4f6;
            border-left: 3px solid #9ca3af;
        }

        .noti-icon-modern {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }

        .noti-success .noti-icon-modern {
            background: #d1fae5;
            color: #10b981;
        }

        .noti-warning .noti-icon-modern {
            background: #fef3c7;
            color: #f59e0b;
        }

        .noti-danger .noti-icon-modern {
            background: #fee2e2;
            color: #ef4444;
        }

        .noti-info .noti-icon-modern {
            background: #dbeafe;
            color: #06b6d4;
        }

        .noti-primary .noti-icon-modern {
            background: #e0e7ff;
            color: #6366f1;
        }

        .noti-default .noti-icon-modern {
            background: #e5e7eb;
            color: #6b7280;
        }

        .noti-content-modern h5 {
            font-size: 14px;
            font-weight: 600;
            color: #1e293b;
            margin: 0 0 4px;
        }

        .noti-content-modern p {
            font-size: 13px;
            color: #64748b;
            margin: 0 0 6px;
        }

        .noti-time {
            font-size: 12px;
            color: #94a3b8;
        }

        .view-all-notifications {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px;
            background: #f8fafc;
            border-radius: 10px;
            text-decoration: none;
            color: #2563eb;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
        }

            .view-all-notifications:hover {
                background: #f1f5f9;
                color: #667eea;
            }

        /* ==================== COURSES SECTION ==================== */
        .courses-section {
            margin-top: 48px;
        }

        .section-header-modern {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
        }

        .section-title-modern {
            font-size: 1.75rem;
            font-weight: 700;
            color: #1e293b;
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 0;
        }

        .view-more-link {
            color: #2563eb;
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s ease;
        }

            .view-more-link:hover {
                gap: 10px;
                color: #667eea;
            }

        .courses-grid-modern {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 24px;
        }

        .course-card-modern {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

            .course-card-modern:hover {
                transform: translateY(-6px);
                box-shadow: 0 12px 28px rgba(0, 0, 0, 0.12);
            }

        .course-thumbnail-modern {
            position: relative;
            height: 180px;
            overflow: hidden;
        }

        .course-image-gradient {
            width: 100%;
            height: 100%;
        }

        .course-status-badge {
            position: absolute;
            top: 12px;
            right: 12px;
            background: rgba(255, 255, 255, 0.95);
            color: #667eea;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .course-body-modern {
            padding: 24px;
        }

        .course-meta-tags {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }

        .meta-tag {
            background: #e0e7ff;
            color: #667eea;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

            .meta-tag.level {
                background: #fef3c7;
                color: #d97706;
            }

        .course-title-modern {
            font-size: 1.125rem;
            font-weight: 700;
            color: #1e293b;
            margin: 0 0 12px;
            line-height: 1.4;
        }

        .course-description-modern {
            font-size: 14px;
            color: #64748b;
            margin: 0 0 16px;
            line-height: 1.6;
        }

        .course-progress-modern {
            margin-bottom: 16px;
        }

        .progress-wrapper-modern {
            height: 8px;
            background: #f1f5f9;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 8px;
        }

        .progress-fill-modern {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .progress-text-modern {
            font-size: 13px;
            color: #64748b;
            font-weight: 600;
        }

        .course-stats-modern {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
        }

        .stat-item-course {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            color: #64748b;
            font-weight: 600;
        }

            .stat-item-course i {
                color: #f59e0b;
            }

        .course-btn-modern {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 10px;
            font-weight: 600;
            font-size: 14px;
            text-decoration: none;
            transition: all 0.3s ease;
        }

            .course-btn-modern:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
                color: white;
            }

        /* ==================== RESPONSIVE ==================== */
        @@media (max-width: 768px) {
            .dashboard-hero-title {
                font-size: 1.75rem;
            }

            .dashboard-hero-description {
                font-size: 1rem;
            }

            .stats-wrapper {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }

            .stat-value {
                font-size: 1.5rem;
            }

            .courses-grid-modern {
                grid-template-columns: 1fr;
            }

            .section-header-modern {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }
        }
    </style>
}